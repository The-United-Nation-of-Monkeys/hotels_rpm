{% extends 'booking/base.html' %}

{% block title %}Бронирование #{{ booking.booking_id }} - Система бронирования отелей{% endblock %}

{% block content %}
<div class="row fade-in-up">
    <div class="col-md-8">
        <div class="mb-4">
            <h1 class="fw-bold mb-2">
                <i class="bi bi-calendar-check text-primary me-2"></i>Бронирование #{{ booking.booking_id }}
            </h1>
            <p class="text-muted">Детальная информация о бронировании</p>
        </div>
        
        <div class="card shadow-lg border-0 mb-4">
            <div class="card-header">
                <h5 class="mb-0 fw-bold">
                    <i class="bi bi-person me-2"></i>Информация о госте
                </h5>
            </div>
            <div class="card-body">
                <table class="table table-borderless mb-0">
            <tr>
                <th>Гость:</th>
                <td>
                    <a href="{% url 'booking:guest_detail' booking.guest.pk %}">
                        {{ booking.guest.full_name }}
                    </a>
                </td>
            </tr>
            <tr>
                <th>Телефон:</th>
                <td>{{ booking.guest.phone }}</td>
            </tr>
            <tr>
                <th>Email:</th>
                <td>{{ booking.guest.email|default:"—" }}</td>
            </tr>
                </table>
            </div>
        </div>
        
        <div class="card shadow-lg border-0 mb-4">
            <div class="card-header">
                <h5 class="mb-0 fw-bold">
                    <i class="bi bi-door-open me-2"></i>Информация о номере
                </h5>
            </div>
            <div class="card-body">
                <table class="table table-borderless mb-0">
            <tr>
                <th>Отель:</th>
                <td>{{ booking.room.hotel.name }}</td>
            </tr>
            <tr>
                <th>Номер:</th>
                <td>
                    <a href="{% url 'booking:room_detail' booking.room.pk %}">
                        {{ booking.room.name }} ({{ booking.room.number }})
                    </a>
                </td>
            </tr>
            <tr>
                <th>Тип:</th>
                <td>{{ booking.room.type_name }}</td>
            </tr>
            <tr>
                <th>Цена за ночь:</th>
                <td>{{ booking.room.price_per_night }} ₽</td>
            </tr>
                </table>
            </div>
        </div>
        
        <div class="card shadow-lg border-0 mb-4">
            <div class="card-header">
                <h5 class="mb-0 fw-bold">
                    <i class="bi bi-info-circle me-2"></i>Детали бронирования
                </h5>
            </div>
            <div class="card-body">
                <table class="table table-borderless mb-0">
            <tr>
                <th>Дата заезда:</th>
                <td>{{ booking.check_in_date|date:"d.m.Y" }}</td>
            </tr>
            <tr>
                <th>Дата выезда:</th>
                <td>{{ booking.check_out_date|date:"d.m.Y" }}</td>
            </tr>
            <tr>
                <th>Количество взрослых:</th>
                <td>{{ booking.adults_count }}</td>
            </tr>
            <tr>
                <th>Количество детей:</th>
                <td>{{ booking.children_count }}</td>
            </tr>
            <tr>
                <th>Стоимость:</th>
                <td><strong class="text-success">{{ booking.total_price }} ₽</strong></td>
            </tr>
            {% if booking.special_requests %}
            <tr>
                <th>Пожелания:</th>
                <td>{{ booking.special_requests|linebreaks }}</td>
            </tr>
            {% endif %}
                </table>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card shadow-lg border-0 mb-4">
            <div class="card-header">
                <h5 class="mb-0 fw-bold">
                    <i class="bi bi-info-circle me-2"></i>Дополнительная информация
                </h5>
            </div>
            <div class="card-body">
                <div class="mb-3 pb-3 border-bottom">
                    <p class="text-muted mb-1 small">ID бронирования</p>
                    <p class="mb-0 fw-bold">#{{ booking.booking_id }}</p>
                </div>
                <div class="mb-3 pb-3 border-bottom">
                    <p class="text-muted mb-1 small">Создано</p>
                    <p class="mb-0">{{ booking.created_at|date:"d.m.Y H:i" }}</p>
                </div>
                <div class="mb-0">
                    <p class="text-muted mb-1 small">Обновлено</p>
                    <p class="mb-0">{{ booking.updated_at|date:"d.m.Y H:i" }}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <a href="{% url 'booking:bookings' %}" class="btn btn-secondary">
            <i class="bi bi-arrow-left me-2"></i>Назад к списку бронирований
        </a>
    </div>
</div>
{% endblock %}
